in u)if(r!=="t"&&r in n&&u[r]!==n[r])return!0;return!1}function a(){var f=n.clone(i[t]);return f.t=n.time(),f.x=window.pageXOffset||r.scrollLeft,f.y=window.pageYOffset||r.scrollTop,f.e="scroll",u.push(f),n.snapshot(t),!0}function v(){var f=n.clone(i[t]);return f.t=n.time(),f.w="innerWidth"in window?window.innerWidth:r.clientWidth,f.h="innerHeight"in window?window.innerHeight:r.clientHeight,f.e="resize",u.push(f),n.snapshot(t),!0}function e(r){var e=document[s],o=r?r.type:"visibility",f;r.persisted&&(o+="-cached");f=n.clone(i[t]);f.t=n.time();f.v=e;f.e=o;u.push(f);n.snapshot(t,e==="unloaded")}function y(r){var f,e;if(r.length>1){if(f=r[1]?"visible":"hidden",r.length>2)switch(r[2]){case 0:f="apphidden";break;case 1:f="appvisible";break;case 2:f="webvisible"}e=n.clone(i[t]);e.t=n.time();e.v=f;e.e="cortana";u.push(e);n.snapshot(t,f==="hidden")}}function p(){var f=n.clone(i[t]);f.t=n.time();f.w="innerWidth"in window?window.innerWidth:r.clientWidth;f.h="innerHeight"in window?window.innerHeight:r.clientHeight;f.v="peekexpand";f.e="cortana";u.push(f);n.snapshot(t)}function w(n,t){var i=n.x-t.x,r=n.y-t.y;return Math.sqrt(i*i+r*r)}function it(r){for(var f,o,s=u.length,e=0;e<s;e++)f=u[e],(e===0||e===s-1||f.e!=="scroll"||w(f,o)>k)&&(e===0?n.metric(1,f.t):l+=w(f,o),r[t].push(n.delta(i[t],f)),o=f);n.metric(8,parseInt(l));u=[]}function rt(){sj_ue(window,"scroll",a);sj_ue(window,"resize",v);sj_ue(window,"pageshow",e);sj_ue(window,"pagehide",e);s in document&&(sj_ue(document,"visibilitychange",e),sj_evt.unbind("visibility",y),sj_evt.unbi